\newcommand{\usecase}[7]{
\begin{center}
\begin{tabular}[h!]{| l | p{12cm} |}
	\hline
	\textbf{Name} & \small{#1} \\ \hline
	\textbf{Actors} & \small{#2} \\ \hline
	\textbf{Goal} & \small{#3} \\ \hline
	\textbf{Preconditions} & \small{#4} \\ \hline
	\textbf{Basic Flow} & \small{#5} \\ \hline
	\textbf{Alternative Flow} & \small{#6} \\ \hline
	\textbf{Postconditions} & \small{#7} \\ \hline
\end{tabular}
\end{center}
}

\section{Use Case Diagram}

\begin{figure}[h!]
\begin{center}
	\includegraphics[width=13cm]{images/UseCaseDiagram}
	\caption{use case diagram outlining the main uses for the system}
\end{center}
\end{figure}

\usecase
{regular\_update}
{PoolTestingUnit}
{Store information received from the PoolTestingUnit in the system.}
{PoolTestingUnit is authenticated}
{
\begin{enumerate}
\item Use case starts when PTU sends data.
\item Data is checked for any errors.
\item Records from the data are stored for later analysis.
\item Use case ends.
\end{enumerate}
}
{
\begin{enumerate}
\item The data does not validate
\begin{enumerate}
\item The data is logged for analysis by support.
\end{enumerate}
\end{enumerate}
}
{\begin{enumerate}
\item Success: Data has been stored.
\item Failure: Data has been stored in a log for analysis by an Administrator.
\end{enumerate}
}

\usecase
{urgent\_update}
{PoolTestingUnit, PoolShopAdmin, PoolOwner}
{Store collected information received from the PoolTestingUnit in the system and alert the PoolOwner and PoolShopAdmin that there is a problem.}
{PoolTestingUnit is authenticated}
{
\begin{enumerate}
\item Use case starts when PoolTestingUnit sends data with alerts.
\item Data is checked for any errors.
\item Records from the data are stored for later analysis.
\item An email is sent to the PoolShopAdmin and PoolOwner.
\item Use case ends.
\end{enumerate}
}
{
\begin{enumerate}
\item The data does not validate
\begin{enumerate}
\item Received data is logged for analysis
\item Email has been sent to PoolShopAdmin and PoolOwner
\end{enumerate}
\end{enumerate}
}
{
\begin{enumerate}
\item Success: Data has been stored and an email has been sent to PoolShopAdmin and PoolOwner.
\item Failure: Data has been stored in a log for analysis by an Administrator and an email has been sent to PoolShopAdmin and PoolOwner.
\end{enumerate}
}

\usecase
{generate\_report}
{ReportGenerator, PoolOwner, PoolShopAdmin}
{Provide latest information about a pool to the PoolOwner and the PoolShopAdmin}
{First week of the PTU or a month since the last report for each pool}
{
\begin{enumerate}
\item Use case starts at the same time every day.
\item Gets a list of pools that need reports generated.
\item For report that needs generating:
\begin{enumerate}
\item Gets the information that should be on the report.
\item Generates the report as a pdf.
\item Emails the report off.
\item Saves a copy of the report for future reference.
\end{enumerate}
\end{enumerate}
}
{
\begin{enumerate}
\item Error generating report
\begin{enumerate}
\item Failure is logged for analysis by Administrator.
\end{enumerate}
\end{enumerate}
}
{
\begin{enumerate}
\item Success: Report generated and emailed to pool owner and pool shop
\item Failure: Any errors logged for admin to look over
\end{enumerate}
}

\usecase
{add\_pool\_shop}
{Administrator, PoolShopAdmin}
{To add a pool shop to the system.}
{Administrator is authenticated.}
{
\begin{enumerate}
\item Use case starts when an Administrator goes to the add pool shop page.
\item Administrator user enters information about the pool shop.
\item Information is validated to check for errors.
\item Information is stored and a new PoolShopAdmin is created.
\end{enumerate}
}
{
\begin{enumerate}
\item Invalid Information
\begin{enumerate}
\item Administrator user is informed
\item Administrator can modify information and try again.
\end{enumerate}
\end{enumerate}
}
{
\begin{enumerate}
\item Success: Information is stored and a new PoolShopAdmin is created.
\item Failure: No change to the system.
\end{enumerate}
}

\usecase
{edit\_pool\_shop}
{Administrator, PoolShopAdmin}
{To edit a pool shop in the system.}
{Administrator is authenticated.}
{
\begin{enumerate}
\item Use case starts when an Administrator goes to the edit pool shop page.
\item Administrator user changes information about the pool shop.
\item Information is validated to check for errors.
\item Information is stored and a PoolShopAdmin is updated.
\end{enumerate}
}
{
\begin{enumerate}
\item Invalid Information
\begin{enumerate}
\item Administrator user is informed
\item Administrator can modify information and try again.
\end{enumerate}
\end{enumerate}
}
{
\begin{enumerate}
\item Success: Information is stored and PoolShopAdmin is updated.
\item Failure: No change to the system.
\end{enumerate}
}

\usecase
{remove\_pool\_shop}
{Administrator, PoolShopAdmin}
{To remove a pool shop from the system.}
{Administrator is authenticated.}
{
\begin{enumerate}
\item Use case starts when an Administrator goes to the remove pool shop page.
\item Administrator confirms they want to remove PoolShopAdmin.
\end{enumerate}
}
{
\begin{enumerate}
\item Action Canceled
\begin{enumerate}
\item No change to the system.
\end{enumerate}
\end{enumerate}
}
{
\begin{enumerate}
\item Success: PoolShopAdmin is no longer usable.
\item Failure: No change to the system.
\end{enumerate}
}

\usecase
{add\_pool}
{PoolShopAdmin, PoolTestingUnit}
{To add a pool to the system.}
{PoolShopAdmin is authenticated.}
{
\begin{enumerate}
\item Use case starts when a PoolShopAdmin goes to the add pool page.
\item PoolShopAdmin user enters information about the pool.
\item Information is validated to check for errors.
\item Information is stored and a new PoolTestingUnit is created for the pool.
\end{enumerate}
}
{
\begin{enumerate}
\item Invalid Information
\begin{enumerate}
\item PoolShopAdmin user is informed
\item PoolShopAdmin can modify information and try again.
\end{enumerate}
\end{enumerate}
}
{
\begin{enumerate}
\item Success: Information is stored and a new PoolTestingUnit is created.
\item Failure: No change to the system.
\end{enumerate}
}

\usecase
{edit\_pool}
{PoolShopAdmin, PoolTestingUnit}
{To edit a pool in the system.}
{PoolShopAdmin is authenticated.}
{
\begin{enumerate}
\item Use case starts when a PoolShopAdmin goes to the edit pool page.
\item PoolShopAdmin user changes information about the pool shop.
\item Information is validated to check for errors.
\item Information is stored and a PoolTestingUnit is updated.
\end{enumerate}
}
{
\begin{enumerate}
\item Invalid Information
\begin{enumerate}
\item PoolShopAdmin user is informed
\item PoolShopAdmin can modify information and try again.
\end{enumerate}
\end{enumerate}
}
{
\begin{enumerate}
\item Success: Information is stored and PoolTestingUnit is updated.
\item Failure: No change to the system.
\end{enumerate}
}

\usecase
{remove\_pool}
{PoolShopAdmin, PoolTestingUnit}
{To remove a pool from the system.}
{PoolShopAdmin is authenticated.}
{
\begin{enumerate}
\item Use case starts when and PoolShopAdmin goes to the remove pool page.
\item PoolShopAdmin confirms they want to remove PoolTestingUnit.
\end{enumerate}
}
{
\begin{enumerate}
\item Action Canceled
\begin{enumerate}
\item No change to the system.
\end{enumerate}
\end{enumerate}
}
{
\begin{enumerate}
\item Success: PoolTestingUnit is no longer usable.
\item Failure: No change to the system.
\end{enumerate}
}

